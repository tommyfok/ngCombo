!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";__webpack_require__(1),angular.module("ngCombo",[]).directive("ngCombo",function($http,$filter,$timeout){return{restrict:"AE",template:__webpack_require__(5),scope:{input:"=ngModel",data:"=?ncData",src:"=?ncSrc",transform:"=?ncTransform",formatter:"=?ncFormatter",parser:"=?ncParser",placeholder:"@?placeholder",limit:"=?ncLimit",disabled:"=?ngDisabled",seperator:"=?ncSeperator"},require:"ngModel",link:function(scope,elem,attrs,ngModelCtrl){function getMatchedItemsFromInput(){var result=[];return scope.data&&scope.data.length&&scope.input&&scope.input.length&&scope.data.forEach(function(item){scope.input.indexOf(scope._parser(item))>-1&&result.push(item)}),result}function updateList(newQuery){var filtered=$filter("filter")(scope.data,newQuery)||[];scope.filteredData=filtered.length?filtered.slice(0,scope.limit?Math.min(scope.limit,filtered.length):10):[]}var inputElem=$(elem).find("input.comboQuery");scope.input=scope.input||[],scope.placeholder=scope.placeholder||"",scope.filteredData=[],scope.isBlured=!0,scope._formatter=angular.isFunction(scope.formatter)?scope.formatter:function(item){return item.text||item},scope._parser=angular.isFunction(scope.parser)?scope.parser:function(item){return item},scope.src&&!scope.data?$http[scope.src.toLowerCase().indexOf("callback=")>-1?"jsonp":"get"](scope.src).then(function(res,status){console.log("ngCombo request success:",arguments),scope.data=scope.transform?scope.transform(res.data):res.data,scope.selectedItems=getMatchedItemsFromInput(),updateList(scope.query||"")},function(res,status){console.log("ngCombo request error:",arguments)}):scope.selectedItems=getMatchedItemsFromInput(),scope.updateInputPos=function(isBlur){setTimeout(function(){var lastItem=$(elem).find(".selectedItems span").last()[0];if(lastItem&&!isBlur){var pbb=lastItem.parentNode.getBoundingClientRect(),bb=lastItem.getBoundingClientRect(),expectLeft=bb.right-pbb.left+5,isOverflow=expectLeft+100>pbb.width,posObj={left:isOverflow?0:expectLeft,top:isOverflow?bb.bottom-pbb.top:bb.top-pbb.top-5};inputElem.css(posObj),$(elem).find(".optionList").css({marginTop:34+posObj.top}),$(elem).find(".ngCombo .selectedItems").css({paddingBottom:isOverflow?28:0})}else inputElem.css({left:"",top:""}),$(elem).find(".optionList").css({marginTop:34}),$(elem).find(".ngCombo .selectedItems").css({paddingBottom:0})},50)},scope.onInput=function(event,results){var ctrlKey=event.ctrlKey,metaKey=event.metaKey,code=event.which;if(13==code&&results){var toSelectItem=results[scope.hoverIndex]||results[0];toSelectItem&&(event.preventDefault(),event.stopPropagation(),scope.add(toSelectItem),scope.query="",$timeout(function(){scope.updateInputPos(),scope.showListAndFocus(),scope.hoverIndex=-1},100))}else if(8==code&&""==scope.query){var lastItem=scope.selectedItems[scope.selectedItems.length-1];lastItem&&scope.remove(lastItem,event),scope.updateInputPos()}else if(scope.seperator&&(ctrlKey||metaKey)&&86==code)$timeout(function(){var inputList=inputElem.val().split(scope.seperator).filter(function(word){return!!word}),lastWord="";inputList.forEach(function(word){updateList(word);var resultList=scope.filteredData;1===resultList.length?scope.add(resultList[0]):lastWord=word}),scope.query="",scope.updateInputPos()},100);else if(results&&results.length){var up=38==code,down=40==code;up&&(scope.hoverIndex--,scope.hoverIndex=scope.hoverIndex>-1?scope.hoverIndex:0),down&&(scope.hoverIndex++,scope.hoverIndex=scope.hoverIndex<results.length?scope.hoverIndex:results.length-1)}else scope.hoverIndex=0},scope.hideListIfBlured=function(){scope.isBlured&&(scope.query="",scope.showList=!1,scope.updateInputPos(!0))},scope.showListAndFocus=function(){scope.disabled||(scope.showList=!0,setTimeout(function(){elem[0].querySelector(".comboQuery").focus()},100))},scope.add=function(item){scope.selectedItems.indexOf(item)===-1&&(scope.selectedItems.push(item),scope.input.push(scope._parser(item)))},scope.remove=function(item,event){if(event&&event.stopPropagation(),!scope.disabled){var idx=scope.selectedItems.indexOf(item);idx>-1&&scope.selectedItems.splice(idx,1),scope.input.forEach(function(inputItemValue,index){JSON.stringify(inputItemValue)===JSON.stringify(scope._parser(item))&&scope.input.splice(index,1)})}},scope.isSelected=function(item){return scope.selectedItems.indexOf(item)>-1},scope.toggle=function(item){scope.updateInputPos(),scope[scope.isSelected(item)?"remove":"add"](item),scope.query="",scope.showListAndFocus()},scope.hideListAsyn=function(){$timeout(function(){scope.overComponent||(scope.query="",scope.showList=!1,scope.updateInputPos(!0))},100)},scope.$watch("query",updateList),scope.$watch("data",function(){updateList(""),scope.selectedItems=getMatchedItemsFromInput()},!0),scope.$watch("input",function(){scope.selectedItems=getMatchedItemsFromInput()}),updateList("")}}})},function(module,exports,__webpack_require__){var content=__webpack_require__(2);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(4)(content,{});content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(),exports.push([module.id,'.ngCombo{position:relative;border:1px solid #ccc;font-size:12px;min-height:34px;overflow:visible;border-radius:3px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.ngCombo .placeholder{line-height:34px;padding-left:10px;color:#789}.ngCombo .selectedItems{min-height:32px;cursor:text;padding:5px 0 0 5px}.ngCombo .selectedItems span{margin:0 5px 5px 0;display:inline-block;cursor:pointer;color:#666;background:#eee;padding:2px 5px;border-radius:3px}.ngCombo .selectedItems span>i{margin-left:4px;font-style:normal}.ngCombo .selectedItems span>i.disabled{opacity:.3}.ngCombo .selectedItems span>i:hover{color:#f60}.ngCombo.disabled .selectedItems{cursor:not-allowed;background:#fcfcfc}.ngCombo .option{position:relative;line-height:30px;padding:0 10px 0 20px;cursor:pointer;background:#fefefe;border-left:1px solid #ddd;border-right:1px solid #ddd}.ngCombo .option.hovered{font-weight:700!important}.ngCombo .option:hover{color:#f60}.ngCombo .option:nth-child(2n){background:#fafafa}.ngCombo .option.selected:before{background:#57e057}.ngCombo .option:before{content:"";display:block;position:absolute;width:5px;height:5px;border-radius:5px;background:#ddd;left:7.5px;top:50%;margin-top:-2.5px}.ngCombo .comboQuery,.ngCombo .comboQuery:focus{border:none;outline:none;display:block;position:absolute;padding:9px;line-height:14px;background:none}.ngCombo .optionList{max-height:182px;overflow:auto;margin-top:34px}.ngCombo .show-list{position:absolute;top:0;width:100%;border-radius:3px;z-index:3;border-bottom:1px solid #ddd}.ngCombo .show-list.nb{border:none}',""])},function(module,exports){"use strict";module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0;i<this.length;i++){var item=this[i];item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1])}return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement(),lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");head.appendChild(styleElement)}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);idx>=0&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return styleElement.type="text/css",insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return linkElement.rel="stylesheet",insertStyleElement(options,linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,sourceMap=obj.sourceMap;sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return"undefined"==typeof memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){options=options||{},"undefined"==typeof options.singleton&&(options.singleton=isOldIE()),"undefined"==typeof options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},function(module,exports){module.exports='<div class=ngCombo ng-class={disabled:disabled} ng-mouseenter="overComponent=true" ng-mouseleave="overComponent=false;hideListIfBlured()"> <div class=selectedItems ng-click=showListAndFocus()> <div class=placeholder ng-bind=placeholder ng-hide=selectedItems.length></div> <span ng-repeat="item in selectedItems track by $index"> {{_formatter(item)}} <i ng-class={disabled:showList} ng-click=remove(item,$event)>&times;</i> </span> </div> <div ng-show=showList class=show-list ng-class={nb:!filteredData.length}> <input ng-model=query class=comboQuery placeholder={{scope.placeholder}} ng-blur="isBlured=true;hideListAsyn()" ng-focus="isBlured=false;updateInputPos()" ng-keydown="onInput($event, filteredData)"> <div class=optionList ng-show=filteredData.length> <div class=option ng-click=toggle(item) ng-bind=_formatter(item) ng-repeat="item in filteredData track by $index" ng-class="{selected: isSelected(item), hovered: hoverIndex == $index}"> </div> </div> </div> </div> '}]);